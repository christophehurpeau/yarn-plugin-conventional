diff --git a/index.js b/index.js
index 170e39753de7d524201ee09e91557b894a701cf4..96f703e3df763c65f0f4d78feb8bacb048c576ec 100644
--- a/index.js
+++ b/index.js
@@ -2,11 +2,102 @@
 
 const dateFormat = require('dateformat')
 const { Transform } = require('stream')
-const { join } = require('path')
-const { readFileSync } = require('fs')
 const { valid: semverValid } = require('semver')
 const util = require('./lib/util')
 
+
+const commitTemplate = `* {{header}}
+
+{{~!-- commit link --}}
+{{~#if @root.linkReferences}} ([{{hash}}](
+  {{~#if @root.repository}}
+    {{~#if @root.host}}
+      {{~@root.host}}/
+    {{~/if}}
+    {{~#if @root.owner}}
+      {{~@root.owner}}/
+    {{~/if}}
+    {{~@root.repository}}
+  {{~else}}
+    {{~@root.repoUrl}}
+  {{~/if}}/
+  {{~@root.commit}}/{{hash}}))
+{{~else if hash}} {{hash}}{{~/if}}
+
+{{~!-- commit references --}}
+{{~#if references~}}
+  , closes
+  {{~#each references}} {{#if @root.linkReferences~}}
+    [
+    {{~#if this.owner}}
+      {{~this.owner}}/
+    {{~/if}}
+    {{~this.repository}}#{{this.issue}}](
+    {{~#if @root.repository}}
+      {{~#if @root.host}}
+        {{~@root.host}}/
+      {{~/if}}
+      {{~#if this.repository}}
+        {{~#if this.owner}}
+          {{~this.owner}}/
+        {{~/if}}
+        {{~this.repository}}
+      {{~else}}
+        {{~#if @root.owner}}
+          {{~@root.owner}}/
+        {{~/if}}
+          {{~@root.repository}}
+        {{~/if}}
+    {{~else}}
+      {{~@root.repoUrl}}
+    {{~/if}}/
+    {{~@root.issue}}/{{this.issue}})
+  {{~else}}
+    {{~#if this.owner}}
+      {{~this.owner}}/
+    {{~/if}}
+    {{~this.repository}}#{{this.issue}}
+  {{~/if}}{{/each}}
+{{~/if}}
+
+`;
+const footerTemplate = `{{#if noteGroups}}
+{{#each noteGroups}}
+
+### {{title}}
+
+{{#each notes}}
+* {{text}}
+{{/each}}
+{{/each}}
+{{/if}}
+`;
+
+const headerTemplate = `## {{#if isPatch~}} <small>
+{{~/if~}} {{version}}
+{{~#if title}} "{{title}}"
+{{~/if~}}
+{{~#if date}} ({{date}})
+{{~/if~}}
+{{~#if isPatch~}} </small>
+{{~/if}}
+
+`;
+
+const mainTemplate = `{{> header}}
+
+{{#each commitGroups}}
+{{#each commits}}
+{{> commit root=@root}}
+{{/each}}
+{{/each}}
+
+{{> footer}}
+
+
+`;
+
+
 function conventionalChangelogWriterInit (context, options) {
   context = {
     commit: 'commits',
@@ -35,10 +126,10 @@ function conventionalChangelogWriterInit (context, options) {
     includeDetails: false,
     ignoreReverted: true,
     doFlush: true,
-    mainTemplate: readFileSync(join(__dirname, 'templates/template.hbs'), 'utf-8'),
-    headerPartial: readFileSync(join(__dirname, 'templates/header.hbs'), 'utf-8'),
-    commitPartial: readFileSync(join(__dirname, 'templates/commit.hbs'), 'utf-8'),
-    footerPartial: readFileSync(join(__dirname, 'templates/footer.hbs'), 'utf-8'),
+    mainTemplate,
+    headerPartial: headerTemplate,
+    commitPartial: commitTemplate,
+    footerPartial: footerTemplate,
     ...options
   }
 
